<h2><strong>struts2整合springboot</strong></h2>
<ol>
<li>pom文件（重要）</li>
</ol>
<pre>&lt;resources&gt;<br />    &lt;!-- 打包时将jsp文件拷贝到META-INF目录下--&gt;<br />    &lt;resource&gt;<br />        &lt;!-- 指定resources插件处理哪个目录下的资源文件 --&gt;<br />        &lt;directory&gt;src/main/webapp&lt;/directory&gt;<br />        &lt;!--注意此次必须要放在此目录下才能被访问到--&gt;<br />        &lt;targetPath&gt;META-INF/resources&lt;/targetPath&gt;<br />        &lt;includes&gt;<br />            &lt;include&gt;**/**&lt;/include&gt;<br />        &lt;/includes&gt;<br />    &lt;/resource&gt;<br />    &lt;resource&gt;<br />        &lt;directory&gt;src/main/resources&lt;/directory&gt;<br />        &lt;includes&gt;<br />            &lt;include&gt;**/**&lt;/include&gt;<br />        &lt;/includes&gt;<br />        &lt;filtering&gt;false&lt;/filtering&gt;<br />    &lt;/resource&gt;<br />&lt;/resources&gt;</pre>
<ol start="2">
<li>初始化struts2的过滤器为bean</li>
</ol>
<pre>@Configuration<br />public class ServletFilterConfig {<br />    /**<br />     * 因为这里是使用main方法加载的所以没有配置文件这里需要将struts2的核心拦截器实例<br />     * 否则无法访问struts2<br />     * 而web项目中struts2的配置文件如下：<br />     *           &lt;filter&gt;<br />     *          &lt;filter-name&gt;struts2&lt;/filter-name&gt;<br />     *          &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;<br />     *       &lt;/filter&gt;<br />     *       &lt;filter-mapping&gt;<br />     *          &lt;filter-name&gt;struts2&lt;/filter-name&gt;<br />     *          &lt;url-pattern&gt;/*&lt;/url-pattern&gt;<br />     *       &lt;/filter-mapping&gt;<br />     * 所以我们需要在这个配置类中将web中配置的拦截器类创建这样才实现了struts2的核心配置<br />     * 而路径如果不配置的话默认的就是拦截所有路径<br />     */<br />    @Bean<br />    public StrutsPrepareAndExecuteFilter strutsPrepareAndExecuteFilter(){<br />        return new StrutsPrepareAndExecuteFilter();<br />    }<br /><br />}</pre>
<ol start="3">
<li>配置文件xml</li>
</ol>
<p>&nbsp;</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br /><br />&lt;!DOCTYPE struts PUBLIC<br />        "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"<br />        "http://struts.apache.org/dtds/struts-2.5.dtd"&gt;<br /><br />&lt;struts&gt;<br />    &lt;constant name="struts.ui.theme" value="simple" /&gt;<br />    <strong>&lt;constant name="struts.objectFactory" value="spring" /&gt;</strong><br />    &lt;constant name="struts.i18n.encoding" value="utf-8" /&gt;<br />    &lt;constant name="struts.serve.static.browserCache" value="true" /&gt;<br />    &lt;constant name="struts.configuration.xml.reload" value="true" /&gt;<br />    &lt;constant name="struts.devMode" value="true" /&gt;<br />    &lt;constant name="struts.multipart.maxSize" value="10000000000" /&gt;<br />    &lt;constant name="struts.multipart.saveDir" value="tmp" /&gt;<br />    &lt;constant name="struts.action.excludePattern" value="/struts/webconsole.html"/&gt;<br />    &lt;constant name="struts.enable.DynamicMethodInvocation" value="true" /&gt;<br /><strong>    &lt;package name="springboot-struts2" namespace="/" extends="json-default"&gt;</strong><br /><strong>        &lt;action name="login" class="loginAction"&gt;</strong><br /><strong>            &lt;result name="success"&gt;</strong><br /><strong>                index.jsp</strong><br /><strong>            &lt;/result&gt;</strong><br /><strong>        &lt;/action&gt;</strong><br /><strong>    &lt;/package&gt;</strong><br />&lt;/struts&gt;</pre>
<ol start="4">
<li>action写法</li>
</ol>
<p>&nbsp;</p>
<pre>@Controller("loginAction")<br />@Log<br />public class LoginAction extends ActionSupport {<br /><br />    private String name;<br />    private String password;<br /><br />    @Override<br />    public String execute() throws IOException {<br />        log.info("用户名：" + name);<br />        log.info("密码：" + password);<br />        log.info("进入首页！！！");<br />        ActionContext.getContext().put("name", name);<br />        ActionContext.getContext().put("password", password);<br />        return SUCCESS;<br />    }<br /><br />    public String getName() {<br />        return name;<br />    }<br /><br />    public void setName(String name) {<br />        this.name = name;<br />    }<br /><br />    public String getPassword() {<br />        return password;<br />    }<br /><br />    public void setPassword(String password) {<br />        this.password = password;<br />    }<br /><br />}</pre>
